
# Dom manipulation
*DOM elements that are accessed and manipulated using only JavaScript without the overhead of libraries or frameworks (such as jQuery)*

### Nodes selection
The basic DOM manipulation is made through Javascript. In order to manipulate a concrete node or nodes, is necessary to create references to the DOM elements.

```JS
/*
* Basic and recomended node selection method, returns a node element matching the provided selector
*/
const element = document.querySelector('.element')

/*
* Returns a NodeList of elements matching the provided selector
* This NodeList IS NOT AN ARRAY, so in old browsers, methods like forEach, can throw an exception on execution
*/
const elements = document.querySelectorAll('.element')

```
### Nodes creation
```JS
/*
* A Node element can be created directly on JS
*/
const element = document.createElement('h1')
element.textContent = 'Hello world'

/* And add it to the DOM */
document.body.appendChild(element)

/* 
* This creates one reference to a node element, so it can't be added multiple times. In order to do this, the node has to be cloned. With this, id can be used multiple times
*/
document.body.appendChild(element.cloneNode(true));
document.querySelector('.container').appendChild(element.cloneNode(true));

/*
* We can inject HTML code as string on the DOM, that will be parsed by the browser, for example, with innerHTML
*/
document.querySelector('.element').innerHTML = '<h1>Ey</h1>';
```

### Nodes manipulation

After select the required element, or creates a new one, the access to the properties and methods of the DOM elements is available

```JS
/*
* Some properties of the element can be modified directly
*/
element.id = 'New id';

/*
* The HTML node attributes can be updated using some methods
*/
let idx = element.getAttribute('data-status');
element.setAttribute('data-index', parseInt(idx || 0) + 1);
element.setAttribute('aria-expanded', true);

/* 
* You can modify the classes of a node element with the classList object
*/
elements.classList.add('active')
elements.classList.remove('active')
elements.classList.toggle('active')

/**
* Those are common methods defined on the HTMLElement class, commons for all elements.
* There are multiple methods and properties defined on child Classes,
* for example, the HTMLInputElements
*/
document.querySelector('input').value;
document.querySelector('video').play();
```

### Event handling

```JS
/*
* Event listeners can be added to selected nodes,
* in order to handle user (or js generated) events
*/
document.querySelector('button').addEventListener('click', (event) => {
    /*
    * event will be an instance of type Event, 
    * with the data of the current event. 
    * The information will depends on the event type
    */
    console.log(event);
    // This method prevents the default behaviour of the browser, useful for block some 'predefined' actions as navegations on anchor elements
    event.preventDefault();
    // The event generated by the user will propagates 'upwards' through the DOM. This methods stops that propagation, avoiding call multiple event listeners for the same action
    event.stopPropagation();
});

